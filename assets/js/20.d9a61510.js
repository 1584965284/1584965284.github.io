(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{298:function(t,e,s){"use strict";s.r(e);var a=s(14),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("setState一定是异步吗？其实分成两种情况：（React18之前）")]),t._v(" "),e("p",[t._v("在组件生命周期或React合成事件中，"),e("strong",[t._v("setState")]),t._v("是异步；")]),t._v(" "),e("p",[t._v("在"),e("strong",[t._v("Promise的回调、setTimeout或者原生dom事件")]),t._v("中，setState是同步；")]),t._v(" "),e("p",[t._v("（React18之后）默认所有的操作都被放到了批处理中（异步处理）")]),t._v(" "),e("p",[t._v("如果希望代码可以同步会拿到，则需要执行特殊的flushSync操作：（把异步批处理变成同步，要在react-dom里引用）")]),t._v(" "),e("p",[e("img",{attrs:{src:"C:%5CUsers%5Cruyu101%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230402001436584.png",alt:"image-20230402001436584"}})])])}),[],!1,null,null,null);e.default=r.exports}}]);